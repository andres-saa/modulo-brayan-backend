import{_ as O,r as s,o as N,a as g,b,c as x,e,f as n,w as y,F as E,g as R,n as P,U as w,h as U,t as u,v as $,x as j}from"./index-9f8dd084.js";const l=c=>($("data-v-ed82110a"),c=c(),j(),c),A=l(()=>e("h1",null,"PROVEEDORES",-1)),B={class:"grid"},M={class:"p-0",style:{"border-radius":"1rem",overflow:"hidden","box-shadow":"0px 0px 20px rgba(0, 0, 0, 0.5)"}},q={class:"col-12 m-0",style:{"background-color":"rgb(255, 230, 0)","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.5)"}},G={class:"text-xl p-0",style:{"font-weight":"bold","text-transform":"uppercase"}},J={class:"info p-2"},L={class:"grid"},F=l(()=>e("span",{class:"text-l text-left col",style:{"font-weight":"bold","min-width":"max-content"}}," DIRECCION ",-1)),z={class:"text-l text-right col",style:{"font-weight":""}},H={class:"grid"},K=l(()=>e("span",{class:"text-l text-left col",style:{"font-weight":"bold","min-width":"max-content"}}," CONTACTO ",-1)),Q={class:"text-l text-right col",style:{"font-weight":""}},W={class:"grid"},X=l(()=>e("span",{class:"text-l text-left col",style:{"font-weight":"bold","min-width":"max-content"}}," NIT ",-1)),Y={class:"text-l text-right col",style:{"font-weight":""}},Z={class:"botones col-12",style:{display:"flex","justify-content":"end"}},ee=["onClick"],oe={class:"cont-dialog"},te=l(()=>e("div",null,null,-1)),se={class:"dialog-container"},re={class:"field"},le=l(()=>e("label",{for:"name"},"Nombre ",-1)),ne={class:"field"},ie=l(()=>e("label",{for:"name"},"Direccion ",-1)),ae={class:"field"},de=l(()=>e("label",{for:"name"},"Contacto ",-1)),ce={class:"field"},ue=l(()=>e("label",{for:"name"},"Nit ",-1)),pe=l(()=>e("span",{class:"text-center col-12 p-0"},"AGREGAR PRODUCTO",-1)),_e={__name:"provider",setup(c){const p=s([]),d=s(!1),_=async()=>{try{const r=localStorage.getItem("providers");if(r)p.value=JSON.parse(r);else{const o=await fetch(`${w}/providers`);if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const i=await o.json();p.value=i,localStorage.setItem("providers",JSON.stringify(i))}}catch(r){console.error("Error fetching providers:",r)}};N(_),s(""),s(null);const S=s("sin nombre"),T=s("sin descripcion");s(0),s(0);const v=s(),m=s(),h=s(),f=s(),V=async()=>{localStorage.removeItem("providers"),d.value=!1;try{const r=S.value||"sin nombre",o=T.value||"sin descripcion",a=await(await fetch(`${w}/providers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider_name:v.value||"sin nombre",provider_address:m.value||"sin direccion",provider_contact:h.value||"sin contacto",provider_nit:f.value||"sin sin nit"})})).json();_(),console.log(a)}catch(r){console.error("Error al crear el producto:",r)}},k=s(!1),D=async r=>{localStorage.removeItem("providers");try{const o=await fetch(`${w}/providers/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});o.ok?(C(),console.log(`Producto con ID ${r} eliminado exitosamente.`)):console.error("Error al eliminar el producto:",o.statusText)}catch(o){console.error("Error en la solicitud DELETE:",o)}finally{k.value=!1,_()}},C=()=>{};return(r,o)=>{const i=g("Button"),a=g("InputText"),I=g("Dialog");return b(),x(E,null,[e("div",null,[A,n(i,{onClick:o[0]||(o[0]=t=>d.value=!d.value),style:{"background-color":"black","border-radius":"0.5rem","font-weight":"bold","margin-bottom":"2rem"}},{default:y(()=>[U("AGREGAR PROVEEDOR")]),_:1}),e("div",B,[(b(!0),x(E,null,R(p.value,t=>(b(),x("div",{class:"col-12 md:col-6 lg:col-4 xl:col-3",key:t.id},[e("div",M,[e("div",q,[e("p",G,u(t.provider_name),1)]),e("div",J,[e("div",L,[F,e("p",z,u(t.provider_address),1)]),e("div",H,[K,e("p",Q,u(t.provider_contact),1)]),e("div",W,[X,e("p",Y,u(t.provider_nit),1)])]),e("div",Z,[e("button",{onClick:ve=>D(t.provider_id),style:{color:"white","background-color":"rgb(255, 83, 83)","border-radius":"0.5rem",border:"none","font-weight":"bold",padding:"0.5rem 1rem",right:"1rem"}},"Eliminar",8,ee)])])]))),128))])]),n(I,{visible:d.value,"onUpdate:visible":o[5]||(o[5]=t=>d.value=t),style:P([{width:"500px"},{"background-color":"white","border-radius":"1rem",overflow:"hidden"}]),header:"Registrar un Usuario",modal:!0,class:"p-fluid"},{default:y(()=>[e("div",oe,[te,e("div",se,[e("div",re,[le,n(a,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=t=>v.value=t),modelModifiers:{trim:!0},required:"",autofocus:""},null,8,["modelValue"])]),e("div",ne,[ie,n(a,{modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=t=>m.value=t),modelModifiers:{trim:!0},required:"",autofocus:""},null,8,["modelValue"])]),e("div",ae,[de,n(a,{modelValue:h.value,"onUpdate:modelValue":o[3]||(o[3]=t=>h.value=t),modelModifiers:{trim:!0},required:"",autofocus:""},null,8,["modelValue"])]),e("div",ce,[ue,n(a,{modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=t=>f.value=t),modelModifiers:{trim:!0},required:"",autofocus:""},null,8,["modelValue"])])]),n(i,{class:"text-center",onClick:V,style:{"background-color":"black","border-radius":"0.5rem","font-weight":"bold","margin-bottom":"2rem"}},{default:y(()=>[pe]),_:1})])]),_:1},8,["visible"])],64)}}},he=O(_e,[["__scopeId","data-v-ed82110a"]]);export{he as default};
